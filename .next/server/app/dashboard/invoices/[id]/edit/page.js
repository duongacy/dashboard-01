(()=>{var e={};e.id=97,e.ids=[97],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8811:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var r=s(7096),a=s(6132),i=s(7284),n=s.n(i),o=s(2564),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["invoices",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5766)),"/Users/y/Desktop/react/nextjs/dashboard/dashboard-01/app/dashboard/invoices/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6971)),"/Users/y/Desktop/react/nextjs/dashboard/dashboard-01/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"/Users/y/Desktop/react/nextjs/dashboard/dashboard-01/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/y/Desktop/react/nextjs/dashboard/dashboard-01/app/dashboard/invoices/[id]/edit/page.tsx"],u="/dashboard/invoices/[id]/edit/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/invoices/[id]/edit/page",pathname:"/dashboard/invoices/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8270:(e,t,s)=>{let r={"098eba37e8ee8ca2d3d0b9f590a33e971e5f7771":()=>Promise.resolve().then(s.bind(s,8984)).then(e=>e.updateInvoice),"29c3a8a0fddbf8c36f058e28a0a58616c1ef0654":()=>Promise.resolve().then(s.bind(s,8984)).then(e=>e.createInvoice)};async function a(e,...t){let s=await r[e]();return s.apply(null,t)}e.exports={"098eba37e8ee8ca2d3d0b9f590a33e971e5f7771":a.bind(null,"098eba37e8ee8ca2d3d0b9f590a33e971e5f7771"),"29c3a8a0fddbf8c36f058e28a0a58616c1ef0654":a.bind(null,"29c3a8a0fddbf8c36f058e28a0a58616c1ef0654")}},530:(e,t,s)=>{Promise.resolve().then(s.bind(s,1898)),Promise.resolve().then(s.t.bind(s,7490,23))},1898:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(3854),a=s(5002),i=s(2966),n=s(7737),o=s(4148),d=s(2637),c=s(4791),l=s(4448),u=s(4468),m=s(5548),p=s.n(m),x=s(2747);function b({invoice:e,customers:t}){let{register:s,handleSubmit:m,formState:{errors:b}}=(0,x.cI)({values:{id:e.id,customer_id:e.customer_id,status:e.status,amount:e.amount},resolver:(0,u.F)(a.aS)});return(0,r.jsxs)("form",{onSubmit:m(e=>{(0,i.a)(a.aS.parse(e),"/dashboard/invoices","/dashboard/invoices")}),children:[(0,r.jsxs)("div",{className:"rounded-md bg-gray-50 p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"customer",className:"mb-2 block text-sm font-medium",children:"Choose customer"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"customer",className:"peer block w-full cursor-pointer rounded-md border border-gray-200 py-2 pl-10 text-sm outline-2 placeholder:text-gray-500",...s("customer_id"),children:[r.jsx("option",{value:"",disabled:!0,children:"Select a customer"}),t.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),r.jsx(o.Z,{className:"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"amount",className:"mb-2 block text-sm font-medium",children:"Choose an amount"}),r.jsx("div",{className:"relative mt-2 rounded-md",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{id:"amount",type:"number",step:"0.01",placeholder:"Enter USD amount",className:"peer block w-full rounded-md border border-gray-200 py-2 pl-10 text-sm outline-2 placeholder:text-gray-500",...s("amount")}),r.jsx(d.Z,{className:"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900"})]})}),b.amount&&r.jsx("small",{className:"text-red-600",children:b.amount.message})]}),(0,r.jsxs)("fieldset",{children:[r.jsx("legend",{className:"mb-2 block text-sm font-medium",children:"Set the invoice status"}),r.jsx("div",{className:"rounded-md border border-gray-200 bg-white px-[14px] py-3",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{id:"pending",type:"radio",value:"pending",checked:"pending"===e.status,className:"h-4 w-4 cursor-pointer border-gray-300 bg-gray-100 text-gray-600 focus:ring-2",...s("status")}),(0,r.jsxs)("label",{htmlFor:"pending",className:"ml-2 flex cursor-pointer items-center gap-1.5 rounded-full bg-gray-100 px-3 py-1.5 text-xs font-medium text-gray-600",children:["Pending ",r.jsx(c.Z,{className:"h-4 w-4"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{id:"paid",type:"radio",value:"paid",checked:"paid"===e.status,className:"h-4 w-4 cursor-pointer border-gray-300 bg-gray-100 text-gray-600 focus:ring-2",...s("status")}),(0,r.jsxs)("label",{htmlFor:"paid",className:"ml-2 flex cursor-pointer items-center gap-1.5 rounded-full bg-green-500 px-3 py-1.5 text-xs font-medium text-white",children:["Paid ",r.jsx(l.Z,{className:"h-4 w-4"})]})]})]})})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[r.jsx(p(),{href:"/dashboard/invoices",className:"flex h-10 items-center rounded-lg bg-gray-100 px-4 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-200",children:"Cancel"}),r.jsx(n.z,{type:"submit",children:"Edit Invoice"})]})]})}},5002:(e,t,s)=>{"use strict";s.d(t,{XY:()=>n,aS:()=>o});var r=s(1460);let a=r.z.object({id:r.z.string(),name:r.z.string(),email:r.z.string(),image_url:r.z.string()});a.omit({id:!0}),a.pick({id:!0,name:!0}),a.extend({total_invoices:r.z.coerce.number(),total_pending:r.z.coerce.number(),total_paid:r.z.coerce.number()});let i=r.z.object({id:r.z.string(),customer_id:r.z.string().min(4,{message:"Please enter a valid value"}),amount:r.z.coerce.number().min(1,{message:"Please enter a valid value"}),date:r.z.string(),status:r.z.enum(["pending","paid"])}),n=i.omit({id:!0}),o=i.omit({date:!0});r.z.intersection(i.pick({id:!0,amount:!0,date:!0,status:!0}),a.pick({name:!0,email:!0,image_url:!0})),r.z.intersection(i.pick({id:!0,amount:!0}),a.pick({name:!0,email:!0,image_url:!0}))},2966:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a,a:()=>i}),s(2377),s(8583);var r=s(1716),a=(0,r.$)("29c3a8a0fddbf8c36f058e28a0a58616c1ef0654"),i=(0,r.$)("098eba37e8ee8ca2d3d0b9f590a33e971e5f7771")},7737:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(3854),a=s(9395);function i({children:e,className:t,...s}){return r.jsx("button",{...s,className:(0,a.Z)("flex h-10 items-center rounded-lg bg-blue-500 px-4 text-sm font-medium text-white transition-colors hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 aria-disabled:cursor-not-allowed aria-disabled:opacity-50",t),children:e})}},5766:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(4656),a=s(7264),i=s(5478),n=s(5153);let o=(0,n.createProxy)(String.raw`/Users/y/Desktop/react/nextjs/dashboard/dashboard-01/app/dashboard/invoices/[id]/edit/InvoiceEditForm.tsx`),{__esModule:d,$$typeof:c}=o,l=o.default;async function u({params:e}){let t=e.id,s=await (0,i.fetchInvoiceById)(t),n=await (0,i.fetchCustomers)();return(0,r.jsxs)("main",{children:[r.jsx(a.Z,{breadcrumbs:[{label:"Invoices",href:"/dashboard/invoices"},{label:"Edit Invoice",href:`/dashboard/invoices/${t}/edit`,active:!0}]}),r.jsx(l,{invoice:s,customers:n})]})}},8984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createInvoice:()=>o,updateInvoice:()=>d});var r=s(8065);s(8106);var a=s(2426),i=s(548),n=s(6042);async function o({customer_id:e,amount:t,date:s,status:r},o,d){await a.sql`
        insert into invoices (customer_id, amount, date, status) values
        (${e}, ${t}, ${s}, ${r})
    `,o&&(0,i.revalidatePath)(o),d&&(0,n.redirect)(d)}async function d({customer_id:e,amount:t,status:s,id:r},o,d){await a.sql`
        update invoices
        set customer_id = ${e}, amount = ${t}, status = ${s}
        where id = ${r}
    `,o&&(0,i.revalidatePath)(o),d&&(0,n.redirect)(d)}(0,s(8116).ensureServerEntryExports)([o,d]),(0,r.createActionProxy)("29c3a8a0fddbf8c36f058e28a0a58616c1ef0654",null,o),(0,r.createActionProxy)("098eba37e8ee8ca2d3d0b9f590a33e971e5f7771",null,d)},7264:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(4656),a=s(5143),i=s(4353),n=s.n(i),o=s(7586),d=s.n(o);function c({breadcrumbs:e}){return r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-6 block",children:r.jsx("ol",{className:(0,a.W)(d().className,"flex text-xl md:text-2xl"),children:e.map((t,s)=>(0,r.jsxs)("li",{"aria-current":t.active,className:(0,a.W)(t.active?"text-gray-900":"text-gray-500"),children:[r.jsx(n(),{href:t.href,children:t.label}),s<e.length-1?r.jsx("span",{className:"mx-3 inline-block",children:"/"}):null]},t.href))})})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[199,776,183,237,51],()=>s(8811));module.exports=r})();